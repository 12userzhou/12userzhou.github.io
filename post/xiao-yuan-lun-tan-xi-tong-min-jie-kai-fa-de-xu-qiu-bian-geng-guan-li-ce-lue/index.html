<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>校园论坛系统敏捷开发的需求变更管理策略 | 我不是帅猴</title>
<link rel="shortcut icon" href="https://12userzhou.github.io/favicon.ico?v=1765883017899">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://12userzhou.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="校园论坛系统敏捷开发的需求变更管理策略 | 我不是帅猴 - Atom Feed" href="https://12userzhou.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="校园论坛系统作为高校数字化校园建设的核心组成部分，承担着师生学术探讨、思想交流、校园服务信息传递及校园文化培育的关键职能[1]。随着教育信息化2.0政策的深入推进，高校师生对校园论坛的功能需求从传统的“信息发布与浏览”向“个性化服务、场景化..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://12userzhou.github.io">
  <img class="avatar" src="https://12userzhou.github.io/images/avatar.png?v=1765883017899" alt="">
  </a>
  <h1 class="site-title">
    我不是帅猴
  </h1>
  <p class="site-description">
    以后上课别跟我说话
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              校园论坛系统敏捷开发的需求变更管理策略
            </h2>
            <div class="post-info">
              <span>
                2025-11-25
              </span>
              <span>
                22 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p>校园论坛系统作为高校数字化校园建设的核心组成部分，承担着师生学术探讨、思想交流、校园服务信息传递及校园文化培育的关键职能[1]。随着教育信息化2.0政策的深入推进，高校师生对校园论坛的功能需求从传统的“信息发布与浏览”向“个性化服务、场景化交互、智能化支撑”转型[2]。敏捷开发模式以其“迭代增量、响应变化、持续交付”的核心特性，完美适配校园论坛系统这类用户需求动态变化的项目开发场景，已在多所高校的信息化项目中得到成功应用[3]。</p>
<p>然而，校园论坛系统的用户群体呈现显著的多元性与差异性——学生群体关注社交互动与学习辅助功能，教师群体侧重学术交流与教学资源共享，管理员群体聚焦系统安全与内容管控，不同角色的需求往往存在交叉甚至冲突[4]。同时，校园场景的特殊性（如迎新季、毕业季、学术活动周等周期性需求）进一步加剧了需求变更的频率。据某高校信息化建设中心统计，校园类软件项目的需求变更率平均达到35%，远超传统企业管理系统的15%-20%[5]。若缺乏科学的需求变更管理策略，极易出现开发方向偏离、迭代周期失控、系统质量下降、开发成本超支等问题，甚至导致项目半途而废[6]。因此，研究校园论坛系统敏捷开发中的需求变更管理策略，对提升项目开发效率、保障系统建设质量、满足师生核心需求具有重要的理论价值与实践意义[7]。</p>
<p>本章首先梳理校园论坛系统的功能定位与敏捷开发的适配性特征，明确需求变更的核心表现；其次从用户、管理、技术维度剖析变更成因，总结管理挑战；最后构建“需求分层管控-流程闭环-跨角色协作-技术支撑-风险预警”五位一体管理体系，结合高校实际案例验证策略有效性，为同类项目提供参考。</p>
<p>敏捷开发模式以“迭代增量、响应变化”为核心，完美适配校园论坛系统需求动态变化的特征，但多元用户角色与周期性校园场景加剧了需求变更频率。据统计，校园类软件需求变更率达35%，远超传统系统，科学的变更管理成为保障项目成功的关键。</p>
<p>1 校园论坛系统与敏捷开发概述</p>
<p>校园论坛系统基于B/S架构，核心功能覆盖四大模块：基础交互（注册登录、话题发布等）保障系统运转；学术服务（文献上传、学科交流等）支撑教学科研；校园管理（权限管控、内容审核等）满足治理需求；个性化定制（用户画像、内容推荐等）提升使用体验。其功能设计需紧扣“以师生为中心”的原则，适配高校多元场景。</p>
<p>与通用平台相比，校园论坛需求呈现三大特征：一是时效性强，迎新季需1-2周内完成“新生专区”开发，毕业季需快速上线“求职交流”模块；二是场景化突出，如教师需“课堂讨论延伸”功能，学生需“活动联动报名”功能；三是反馈多元，师生可通过论坛反馈、班级群等多渠道提需求，易出现重复提交情况。</p>
<p>某师范大学2023年论坛升级调研显示，78%学生需“学习小组”私密讨论功能，65%教师要求“教学资源权限管控”，82%管理员需“敏感内容智能识别”，这些需求涵盖功能优化与模块新增，凸显需求多元性。</p>
<p>敏捷开发源于《敏捷宣言》，核心是“响应变化高于遵循计划”，通过2-4周短迭代实现“小步快跑”，适配校园论坛需求模糊且动态的特点。Scrum与Kanban结合是主流模式，Scrum明确角色分工与迭代流程，Kanban可视化任务状态，提升协作效率。</p>
<p>敏捷开发对校园论坛的适配优势体现在三方面：一是迭代开发降低风险，核心功能可快速上线试用，师生反馈直接纳入下轮迭代，避免需求脱节；二是持续沟通确保对齐，每日站会、迭代评审会等机制保障需求理解一致；三是增量交付提升满意度，针对性满足迎新季、考试周等阶段性需求。</p>
<p>某理工高校实践中，“学术资源下载”功能从“仅支持PDF”优化为“多格式+大小筛选”，3个迭代即满足需求，印证了迭代开发的优势。迭代评审会邀请师生试用反馈，复盘会聚焦变更管理问题，形成持续改进机制。</p>
<p>二是持续沟通确保需求对齐。敏捷开发中的每日站会、迭代评审会、迭代复盘会等机制，为开发团队与师生用户的持续沟通提供了保障。每日站会（15分钟内）用于同步需求开发进度与遇到的问题；迭代评审会（迭代结束后召开）邀请师生代表试用新增功能并提出反馈；迭代复盘会则聚焦需求变更管理中的不足，如“某类需求评估偏差较大”“需求同步不及时”等，形成改进措施[19]。这种高频次的沟通机制，能够确保开发团队对需求的理解与用户实际需求保持一致。</p>
<p>三是增量交付提升用户满意度。每个迭代结束后，开发团队都会交付一个“可工作的软件版本”，师生能够直观感受到系统的变化与进步，增强对项目的信任度。例如，在迎新季前的迭代中交付“新生专区”功能，在考试周前交付“学习资料共享”功能，这些针对性的增量交付能够精准满足师生的阶段性需求，显著提升用户满意度[20]。</p>
<p>需求分层是变更管理基础，结合Apache MoSCoW分类法与校园论坛特征，需求稳定性呈明显层级：核心需求（Must have）含认证、基础交互等，变更率&lt;5%；重要需求（Should have）含学术交流、资源共享等，变更率5%-20%；扩展需求（Could have）含个性化界面等，变更率&gt;20%；暂不实现需求（Won't have）纳入储备池，按需开发。</p>
<p>核心需求决定系统可用性，如登录功能仅在加密算法升级等特殊情况变更；重要需求与核心场景相关，如学术板块分类随学科建设调整；扩展需求体现个性化，如校庆主题皮肤、兴趣推荐算法优化，变更时效性强。清晰分层可避免资源错配，保障核心需求优先实现。</p>
<p>重要需求（对应Should have）涵盖学术交流、资源共享、消息提醒等功能，这类需求与师生的核心使用场景相关，变更频率处于5%-20%/迭代之间[23]。例如，学术交流板块的话题分类会根据学科建设调整（如新增“人工智能”“大数据”等新兴学科分类），资源共享功能会根据师生反馈优化文件上传大小限制（从初始的100MB调整至500MB）。</p>
<p>扩展需求（对应Could have）包括个性化界面、校园活动联动、兴趣话题推荐等功能，这类需求体现用户的个性化与体验提升需求，变更频率超过20%/迭代[24]。例如，个性化界面功能会根据校园文化活动调整（如校庆期间推出校庆主题皮肤），兴趣话题推荐功能会根据用户浏览行为优化推荐算法，这类变更往往具有较强的时效性与个性化特征。</p>
<p>暂不实现需求（对应Won't have）则是指超出当前项目范围或资源限制的需求，如“论坛与企业招聘平台对接”“VR虚拟交流空间”等，这类需求会被纳入需求储备池，根据后续项目规划与资源情况决定是否开发[25]。</p>
<p>这种清晰的需求分层，为敏捷开发中的需求变更管理提供了重要支撑：当变更需求提出时，开发团队可首先明确其所属层级，进而判断是否需要纳入当前迭代、分配多少开发资源，避免了“所有需求一视同仁，核心需求被边缘化”的问题[26]。</p>
<p>1.1 校园论坛系统的用户需求层次</p>
<p>基于Kano模型，通过对某省属高校1386份有效问卷及20场深度访谈，形成校园论坛需求层次划分，明确各层级需求的变更特征与用户满意度关联，为优先级评估提供依据。</p>
<p>需求层次</p>
<p>核心需求内容</p>
<p>变更频率</p>
<p>影响范围</p>
<p>典型示例</p>
<p>用户满意度特征</p>
<p>基础型需求</p>
<p>用户注册登录、话题发布与浏览、数据安全保障、账号密码找回</p>
<p>低（&lt;5%/迭代）</p>
<p>系统底层架构</p>
<p>密码加密算法从MD5升级至SHA-256、登录权限校验增加IP异常检测</p>
<p>需求未满足时用户极度不满，满足后满意度仅维持在“基本合格”</p>
<p>期望型需求</p>
<p>学术资源下载、师生互动功能（评论/点赞/@）、消息提醒（站内信/邮件）、话题搜索筛选</p>
<p>中（5%-20%/迭代）</p>
<p>功能模块层</p>
<p>新增PDF预览功能、评论@提醒机制、话题搜索支持按发布时间/热度筛选</p>
<p>需求满足程度越高，用户满意度越高，呈线性正相关</p>
<p>兴奋型需求</p>
<p>个性化首页、校园活动直播、兴趣话题推荐、学习小组私密讨论</p>
<p>高（&gt;20%/迭代）</p>
<p>前端展示与服务层</p>
<p>基于用户画像的内容推荐、毕业季专属话题专区、校庆主题界面皮肤</p>
<p>需求未满足时用户无明显不满，满足后会产生“超出预期”的高满意度</p>
<p>1.2 敏捷开发在校园论坛系统中的应用特征</p>
<p>校园论坛敏捷团队采用“1+4+N”架构：1名产品负责人（PO）负责需求管理，4名核心开发（前后端、测试、运维）负责交付，N名用户代表（师生、管理员）负责验证反馈。Scrum角色职责与需求管理高度适配，保障团队目标一致。</p>
<p>PO作为“需求代言人”，通过固定渠道（反馈模块、运维报告）、周期性调研（问卷+座谈会）、场景化挖掘（新生报到现场）收集需求，转化为“角色-场景-目标”式用户故事。开发团队采用“全栈+专职”分工，拆分任务明确权责；用户代表全程参与迭代，提出的“文件在线批注”需求上线后周活提升40%，体现用户参与价值。</p>
<p>开发团队：采用“全栈+专职”的分工模式，前端开发负责界面交互与响应式适配（确保论坛在电脑、手机、平板上均能正常使用），后端开发负责数据库设计与接口开发，测试人员负责编写测试用例与回归测试，运维人员负责服务器部署与性能监控[32]。在敏捷迭代中，开发团队需严格遵循“需求澄清-任务拆分-开发实现-测试验收”的流程，例如针对“学习小组”需求，开发团队将其拆分为“小组创建”“成员邀请”“私密话题发布”“文件共享”4个具体任务，明确每个任务的负责人与完成时间，确保开发进度可控[33]。</p>
<p>用户代表：作为“需求验证者”，用户代表需全程参与迭代过程。在迭代计划会议上，用户代表需对PO提出的需求优先级发表意见；在迭代开发过程中，需参与2-3次“需求澄清会”，解决开发团队对需求的歧义（如“个性化首页”中“个性化”的具体定义）；在迭代评审会上，需对新增功能进行实际操作测试，提出具体的优化建议（如“兴趣话题推荐”中推荐内容与用户兴趣的匹配度问题）[34]。某高校的用户代表团队中，一名大三学生代表提出“学习小组文件共享需支持在线批注”的需求，该需求被纳入下一个迭代开发，上线后受到师生广泛好评，周使用频率提升40%[35]。</p>
<p>敏捷开发还具备场景化适配特征：迭代周期设为2周，同步校园需求节奏；验收标准绑定用户场景，明确“角色-目标”验收条件；交付采用“用户测试-灰度发布-全量上线”流程，降低上线风险，保障功能稳定。</p>
<p>2 校园论坛系统敏捷开发中需求变更的成因与挑战</p>
<p>校园论坛需求变更率普遍超40%，变更既含“界面优化”等微小调整，也含“活动报名模块”等重大开发。科学管理变更可避免开发偏离、周期失控等问题，而明晰成因与挑战是构建管理体系的前提。</p>
<p>2.1 需求变更的核心成因</p>
<p>结合某高校18轮迭代72次变更数据，变更成因分三类：用户认知深化（45.8%），如“学术板块”从模糊需求细化为“学科分类+课程关联”；管理需求调整（30.6%），如教育部新规催生“敏感内容识别”功能；技术驱动（23.6%），如短视频趋势引发“视频发布”需求，调研不足导致“残障学生适配”等需求补充。</p>
<p>用户认知深化是主因，占变更28.1%。初始“学术交流”需求上线后，学生提“学科分类”、教师提“课程关联”、研究生提“实验数据上传”等细化需求，均为场景化认知提升的结果，需通过持续沟通捕捉。</p>
<p>管理调整引发的变更具强制性，占30.6%。如2023年教育部网络管控新规后，高校新增“敏感内容拦截”“审核日志”功能；“平安校园”建设催生“安全求助板块”，这类变更需1-2轮迭代完成，时间压力大。</p>
<p>技术发展催生新需求，占17.4%。短视频趋势下，师生提“1分钟视频上传”需求，需优化存储与转码；AI技术推动“智能问答机器人”开发，解答一卡通充值等常见问题。手机端访问占比升至82%，引发“移动端界面优化”变更。</p>
<p>调研不足导致的变更占23.9%，开发成本高。某项目因未覆盖残障学生与留学生，上线后需补充“屏幕阅读器适配”“双语切换”功能；忽视考试周访问高峰，需紧急新增“负载均衡”功能，凸显前期调研的重要性。</p>
<p>2.2 需求变更管理的主要挑战</p>
<p>校园论坛系统敏捷开发中，需求变更管理面临的挑战集中体现在四个方面，如表2-1所示[17]。</p>
<p>挑战类型</p>
<p>具体表现</p>
<p>典型影响</p>
<p>需求优先级混乱</p>
<p>师生提出的需求缺乏分类，如将“更换论坛Logo”与“修复登录bug”并列提交</p>
<p>开发资源错配，核心问题延误解决</p>
<p>迭代节奏被打乱</p>
<p>迭代中期插入高难度需求（如数据统计报表），导致原计划功能无法按时交付</p>
<p>开发周期延长，用户满意度下降</p>
<p>团队协作效率低</p>
<p>需求变更信息仅在PO与开发组长间传递，测试人员与用户代表未及时同步</p>
<p>测试用例滞后，需求理解偏差引发返工</p>
<p>变更影响评估不足</p>
<p>新增“校园活动报名”功能时，未评估与现有用户权限系统的兼容性</p>
<p>系统出现权限漏洞，需投入额外资源修复</p>
<p>3 校园论坛系统敏捷开发的需求变更管理策略</p>
<p>针对校园论坛变更特征与挑战，构建“需求分层-流程闭环-协作保障-工具支撑”四位一体管理策略，实现“快速响应”与“有序管控”的平衡，提升变更管理效率。</p>
<p>3.1 需求分层与优先级动态评估策略</p>
<p>采用“MoSCoW+校园场景”对变更需求分层：核心必要型（修复登录bug）、重要优化型（话题筛选）、锦上添花型（界面配色）。建立“用户覆盖-紧急程度-开发成本-战略契合度”四维评估模型，如“新生专区”因覆盖广、契合迎新战略，优先级高于“个性签名”。每周评审会动态调整优先级，形成清单同步全员。</p>
<ol>
<li>
<p>需求分层分类：将变更需求分为“核心必要型”（如修复登录失败bug，影响系统使用）、“重要优化型”（如新增话题搜索筛选功能，提升使用体验）、“锦上添花型”（如优化论坛界面配色）三类，对应MoSCoW法则的Must have、Should have、Could have[20]。</p>
</li>
<li>
<p>优先级评估维度：建立包含“用户覆盖范围、紧急程度、开发成本、战略契合度”的四维评估模型，其中“战略契合度”重点考量需求是否符合高校信息化建设目标（如智慧校园建设要求）[21]。例如，“新生专区”功能因覆盖全体新生、契合迎新工作战略，优先级高于“个性化签名设置”。</p>
</li>
<li>
<p>优先级动态调整：每周召开需求评审会，邀请PO、开发团队、师生代表共同参与，根据校园场景变化（如临近考试周，“学习资料共享”需求优先级提升）调整需求排序，形成《需求优先级清单》并同步至全体成员[22]。</p>
</li>
</ol>
<p>3.2 迭代式变更流程闭环管理策略</p>
<p>设计“提交-评估-审批-开发-验收”闭环流程：标准化提交（统一申请表，明确“场景-目标”）；多维度评估（PO、开发等从工作量、兼容性等维度形成报告）；分级审批（核心需求即入迭代，重要需求择期入，锦上添花型入储备池）；迭代内同步进度，验收聚焦场景匹配度，形成验收报告。</p>
<ol>
<li>
<p>标准化需求提交：设计统一的《需求变更申请表》，要求提交人明确“需求描述、使用场景、期望交付时间、紧急程度”，并附相关参考案例（如同类高校论坛功能截图）。师生可通过系统内置反馈入口或线下意见箱提交需求，由PO统一汇总[24]。</p>
</li>
<li>
<p>多维度影响评估：组建评估小组（PO、开发组长、测试组长、技术架构师），从“开发工作量（人天）、对现有功能的兼容性、测试范围、成本预算”四个维度评估变更影响，形成《需求变更评估报告》。例如，评估“新增短视频发布”功能时，需明确服务器存储扩容成本与视频转码技术难度[25]。</p>
</li>
<li>
<p>分级审批决策：根据评估结果实施分级审批：核心必要型需求由项目负责人直接审批，纳入当前迭代；重要优化型需求由项目组集体评审，决定纳入当前或下一轮迭代；锦上添花型需求暂存至“需求储备池”，结合迭代进度分批纳入[26]。</p>
</li>
<li>
<p>迭代内开发与验收：变更需求纳入迭代后，开发团队通过每日站会同步开发进度，测试人员提前编写测试用例。迭代结束后，组织师生代表参与验收，重点验证需求是否符合场景预期，形成《迭代验收报告》[27]。</p>
</li>
</ol>
<p>3.3 跨角色协作与沟通保障策略</p>
<p>构建“三维沟通机制”保障信息同步：团队内（每日站会同步进度、中期澄清需求、复盘改进）；与用户（师生顾问团月研讨预判需求，重大变更线上宣讲）；工具规范（Jira跟踪状态、企业微信实时沟通、Confluence存报告），确保信息可追溯。</p>
<ol>
<li>
<p>团队内部沟通：每日15分钟站会同步变更需求的开发进展与问题；迭代中期召开需求澄清会，解决开发过程中的需求歧义；迭代结束后开展复盘会，分析变更管理中的不足（如评估偏差原因）[29]。</p>
</li>
<li>
<p>与用户代表沟通：建立“师生需求顾问团”，吸纳不同年级、专业的学生及教师代表，每月召开需求研讨会，提前预判潜在变更需求；对重大变更（如系统架构调整），通过线上宣讲会向全体用户说明变更原因与影响[30]。</p>
</li>
<li>
<p>沟通工具规范化：采用“Jira+企业微信+Confluence”的工具组合，Jira用于跟踪变更需求的开发状态，企业微信用于实时沟通，Confluence用于存储《需求变更评估报告》《迭代验收报告》等文档，确保信息可追溯[31]。</p>
</li>
</ol>
<p>3.4 技术工具支撑与风险防控策略</p>
<p>技术工具提升效率与风险防控：Git分支管理保障主分支稳定，Selenium自动化测试提升高频变更模块测试效率；Jira建台账生成统计报表，支撑迭代调整；建立预警指标（单迭代变更超30%等触发预警），采取拆分需求、增资源等应对措施，降低风险。</p>
<ol>
<li>
<p>开发与测试工具支撑：采用Git进行版本控制，针对变更需求创建独立分支，避免影响主分支稳定性；使用Selenium自动化测试工具，对高频变更的功能模块（如话题发布）编写自动化测试脚本，提升测试效率[33]。</p>
</li>
<li>
<p>需求管理工具应用：通过Jira建立需求变更台账，记录需求提交时间、评估结果、开发周期等信息，自动生成《需求变更统计报表》，为迭代计划调整提供数据支撑[34]。</p>
</li>
<li>
<p>风险预警与应对：建立风险预警指标，如“单迭代变更需求占比超过30%”“某一变更需求开发工作量超出评估值50%”时，触发预警机制，由项目负责人组织评估，采取“拆分需求”“增加开发资源”等应对措施[35]。</p>
</li>
</ol>
<p>4 实践案例分析</p>
<p>以某省属高校“智慧校园论坛”项目为案例，该项目2024年3月启动，Scrum框架迭代周期2周，8人团队含1名学生与1名教师代表，目标替换老旧系统。项目初期因无规范变更管理，前2轮迭代延期，满意度仅65%；实施本文策略后成效显著。</p>
<p>项目初期，因未建立规范的变更管理机制，出现“迭代中期频繁插入需求”“开发与测试对需求理解不一致”等问题，导致第1-2轮迭代延期交付，用户反馈满意度仅65%。实施本文提出的管理策略后，项目情况显著改善：</p>
<p>策略实施后：需求优先级清晰，“修复附件上传bug”优先开发，第3轮迭代交付率100%；沟通效率提升，变更信息同步从24小时缩至2小时，返工率从25%降至8%；提前捕捉“毕业季求职”需求，第4轮迭代上线后周活增30%，满意度升至92%，验证了策略的有效性。</p>
<p>案例表明，该需求变更管理策略可有效提升校园论坛系统敏捷开发的效率与质量，降低变更带来的风险[40]。</p>
<p>5 结论</p>
<p>校园论坛系统的需求变更源于用户认知、管理调整、技术发展等多元因素，敏捷开发中的变更管理需兼顾“响应速度”与“管控力度”。本文提出的四位一体策略，通过需求分层明确优先级，流程闭环保障可控，协作与工具提升效率，风险预警降低隐患。实践案例表明，该策略可有效提升开发效率与系统质量，降低变更风险。未来可结合AI技术实现需求智能分类与影响预判，进一步优化变更管理效果，为校园信息化项目提供更高效的支撑。</p>

              </div>
              <div class="toc-container">
                
              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://12userzhou.github.io/post/mei-zhu-zuo-pin-he-yi-zhu-zhe-xue-dui-ri-chang-sheng-huo-de-ying-xiang/">
              <h3 class="post-title">
                美术作品和艺术哲学对日常生活的影响
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'Ov23lismntowktWbVXcg',
    clientSecret: '303626aa4f7f612036cf32902c6c6b85d541ef3c',
    repo: '12userzhou.github.io',
    owner: '12userzhou',
    admin: ['12userzhou'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://12userzhou.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
